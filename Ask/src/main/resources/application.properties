spring.application.name=project

#spring.datasource.username=data_ask_2024_user
#spring.datasource.password=vWAuwY3VNeH1NJOT62jPQwMvRUyKRf5R
#spring.datasource.url=jdbc:postgresql://dpg-cuaauo5ds78s739lo3bg-a.frankfurt-postgres.render.com:5432/data_ask_2024

spring.datasource.username=petuser
spring.datasource.password=petpass
spring.datasource.url=jdbc:postgresql://postgres:5432/petdb

spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect

# JWT configuration
app.jwtSecret=ChangeThisSecretKeyToSomethingStrong123!
app.jwtExpirationMs=86400000

# Email SMTP settings
# Default to MailHog for local development (can be overridden by environment variables)
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${GMAIL_USER:}
spring.mail.password=${GMAIL_PASS:}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_STARTTLS:true}
spring.mail.properties.mail.smtp.starttls.required=${SPRING_MAIL_STARTTLS_REQUIRED:true}
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Frontend URL for email verification links (can be overridden by environment variable)
app.frontend.url=${FRONTEND_URL:http://localhost:8083}

# MinIO Configuration (can be overridden by environment variables)
minio.endpoint=${MINIO_ENDPOINT:http://minio:9000}
minio.accessKey=${MINIO_ACCESS_KEY:minioadmin}
minio.secretKey=${MINIO_SECRET_KEY:minioadmin123}
minio.bucket=${MINIO_BUCKET:pets-images}

# Multipart file upload configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# RabbitMQ Configuration (optional, can be overridden by environment variables)
spring.rabbitmq.host=${RABBITMQ_HOST:rabbitmq}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:rabbitmq}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:rabbitmq123}

# --- Keycloak Security Configuration ---
# Το URL πρέπει να είναι προσβάσιμο από το container του backend
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://keycloak:8080/realms/pet-realm
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://keycloak:8080/realms/pet-realm/protocol/openid-connect/certs